<script type="text/template" id="pokemon-list-item-template">
  <li class="poke-list-item" data-id="<%%= pokemon.escape('id') %>">
  <%% ['name', 'poke_type'].forEach(function (attr) { %>
    <%%= attr + ": " + pokemon.escape(attr) %> <br>
  <%% }); %>
  </li>
</script>

<script type="text/template" id="pokemon-detail-template">
  <div class="detail">
    <img src="<%%= pokemon.escape('image_url') %>"></img>
    <ul>
    <%% for (var attr in pokemon.attributes) { %>
      <%% if (pokemon.escape(attr) && attr !== 'id' && attr !== 'image_url') { %>
        <li><span><%%= attr + ": " + pokemon.escape(attr) %></span></li>
      <%% } %>
    <%% } %>
    </ul>
  </div>
  <span style="font-weight: bold;">Toys:</span><br>
  <ul class="toys"></ul>
</script>

<script type="text/template" id="toy-list-item-template">
  <li class="toy-list-item" data-id="<%%= toy.get('id') %>" data-pokemon-id="<%%= toy.get('pokemon_id') %>">
    <%% ['name', 'happiness', 'price'].forEach(function (attr) { %>
      <%%= attr + ": " + toy.escape(attr) %><br>
    <%% }); %>
  </li>
</script>

<script type="text/template" id="toy-detail-template">
  <div class="detail">
    <img src="<%%= toy.escape('image_url') %>"><br>
    <ul>
    <%% for (var attr in toy.attributes) { %>
      <%% if (attr !== 'pokemon_id' && attr !== 'image_url') { %>
        <li>
          <span style="font-weight:bold"><%%= attr + ": " %></span>
          <span><%%= toy.escape(attr) %></span>
        </li>
      <%% } %>
    <%% } %>
    </ul>
    <select data-pokemon-id="<%%= toy.get('pokemon_id') %>" data-toy-id="<%%= toy.get('id') %>">
      <%% pokes.each(function (pokemon) { %>
        <%% var selected = "" %>
        <%% if (pokemon.id == toy.get("pokemon_id")) { %>
          <%% selected = 'selected'; %>
        <%% } %>
        <option value="<%%= pokemon.id %>" <%%= selected %> ><%%=pokemon.escape('name')%></option>
      <%% }) %>
    </select>
  </div>
</script>

<script type="text/template" id="pokemon-form-template">
</script>
